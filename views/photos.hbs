<!-- /* ******************************************
 * WEB222NGG
 * Assignment 2
 * Name: Thi My Phuc Huynh (Mindy).
 * Student ID: 149792186.
 * Date: October 24, 2020
 ********************************************
 * images from unsplash.com | canva.com
 ******************************************** */ -->

<!doctype html>
<html lang="en">
  {{>head}}
  <body> 
      {{> header user}}  
        <div class="col-12 text-center mt-5">
                      
            {{#if hasPhotos}}
                <h1 class="text-dark pt-2">{{room.title}}</h1>                            
            {{else}}
                <h1 class="text-dark pt-2">There is no photo to display</h1>                
            {{/if}}
            <div class="border-top border-primary w-25 mx-auto my-3"></div>
            <div class="col-sm-3 text-center mx-auto"   >
                <a href="/{{room._id}}/photos/Add" class="nav-link btn-custom" role="button">Add Photo</a>
            </div>            
        </div>       
        <!-- Room listing section -->   
        <div class="container">
            <div class="row justify-content-center">
                {{#if hasPhotos}} {{#each photos}}
                    <div class="col-12 col-sm-6 col-md-4 py-4">
                        <img src="/images/{{this}}" onerror="this.src='/photos/{{this}}'" alt="{{this}}" class="card-img-top photo"> 
                        <a href="#" class="trigger-btn" data-toggle="modal" data-target="#modalDelete">
                            <img class="icon photo-icon" src="/images/trash-can.jpg"/>
                        </a>                   
                        <p>Photos: {{this}}</p>
                    </div>
                    <div id="modalDelete" class="modal fade">
                        <div class="modal-dialog modal-confirm">
                            <div class="modal-content">
                                <div class="modal-header flex-column"> 
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                                           					
                                    <h4 class="modal-title w-100">Are you sure?</h4> 
                                </div>
                                <form action="../../{{../room._id}}/photos/Delete/{{this}}" method="POST">
                                    <div class="modal-body">
                                        <p>Do you really want to delete this record {{this}}? This process cannot be undone.</p>
                                        
                                    </div>
                                    <div class="modal-footer justify-content-center">
                                        <button type="button" class="btn btn-custom" data-dismiss="modal">Cancel</button>
                                        <button type="submit" class="btn btn-danger">Delete</button>
                                    </div>
                                </form>                                            
                            </div>
                        </div>
                    </div>    
                {{/each}}   {{/if}} 
            </div>                       
        </div>       

        {{> footer}}
        {{> script}}
        
    </body>
</html>
